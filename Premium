-- Enable secure mode
getgenv().SecureMode = true

-- Load Orion Library
local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()
local Window = OrionLib:MakeWindow({
    IntroText = "Murder Time",
    Name = [[<font color="rgb(255,0,0)">INSANITY</font>]],
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = ""
})

-- Notifier function
local function notify(message, duration)
    OrionLib:MakeNotification({
        Name = "Notification",
        Content = message,
        Duration = duration or 5
    })
end

-- Main Tab
local MainTab = Window:MakeTab({
    Name = "Main",
    Icon = "rbxassetid://15862434941",
    PremiumOnly = false
})

MainTab:AddSection({
    Name = "Made by #Aim048"
})

MainTab:AddLabel("Adjust Your Settings Below")

-- Hitbox Expander
MainTab:AddTextbox({
    Name = "Hitbox Expander",
    Default = "",
    TextDisappear = true,
    Callback = function(value)
        _G.HeadSize = tonumber(value) or 1 -- Default to 1 if invalid
        _G.Disabled = true

        game:GetService('RunService').RenderStepped:Connect(function()
            if _G.Disabled then
                for _, player in pairs(game:GetService('Players'):GetPlayers()) do
                    if player.Name ~= game:GetService('Players').LocalPlayer.Name then
                        pcall(function()
                            if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                                player.Character.HumanoidRootPart.Size = Vector3.new(_G.HeadSize, _G.HeadSize, _G.HeadSize)
                                player.Character.HumanoidRootPart.Transparency = 0.9
                                player.Character.HumanoidRootPart.BrickColor = BrickColor.new("Really blue")
                                player.Character.HumanoidRootPart.Material = "Neon"
                                player.Character.HumanoidRootPart.CanCollide = false
                            end
                        end)
                    end
                end
            end
        end)
    end
})

-- Speed Changer
MainTab:AddTextbox({
    Name = "Speed Changer",
    Default = "",
    TextDisappear = true,
    Callback = function(value)
        getgenv().Walkspeed = tonumber(value) or 16 -- Default to 16 if invalid
        pcall(function()
            game:GetService("Players").LocalPlayer.Character.Humanoid.WalkSpeed = getgenv().Walkspeed
        end)
    end
})

-- Loop Speed Changer
MainTab:AddToggle({
    Name = "Loop Speed Changer",
    Default = false,
    Callback = function(state)
        getgenv().loopW = state
        game:GetService("RunService").Heartbeat:Connect(function()
            if loopW then
                pcall(function()
                    game:GetService("Players").LocalPlayer.Character.Humanoid.WalkSpeed = getgenv().Walkspeed
                end)
            end
        end)
    end
})

-- Jump Power
MainTab:AddTextbox({
    Name = "Jump Power",
    Default = "",
    TextDisappear = true,
    Callback = function(value)
        getgenv().Jumppower = tonumber(value) or 50 -- Default to 50 if invalid
        pcall(function()
            game:GetService("Players").LocalPlayer.Character.Humanoid.JumpPower = getgenv().Jumppower
        end)
    end
})

-- Loop Jump Power
MainTab:AddToggle({
    Name = "Loop Jump Power",
    Default = false,
    Callback = function(state)
        getgenv().loopJ = state
        game:GetService("RunService").Heartbeat:Connect(function()
            if loopJ then
                pcall(function()
                    game:GetService("Players").LocalPlayer.Character.Humanoid.JumpPower = getgenv().Jumppower
                end)
            end
        end)
    end
})

-- Field of View Changer
MainTab:AddTextbox({
    Name = "Field of View",
    Default = "",
    TextDisappear = true,
    Callback = function(value)
        local FovNumber = tonumber(value) or 70 -- Default to 70 if invalid
        local Camera = workspace.CurrentCamera
        Camera.FieldOfView = FovNumber
        notify("Field of View set to: " .. FovNumber)
    end
})

-- Infinite Jump Button
MainTab:AddButton({
    Name = "Infinite Jump",
    Callback = function()
        notify("Infinite Jump enabled!")
        loadstring(game:HttpGet("https://raw.githubusercontent.com/BsGlitch/-nfJumps/main/BsGlitch"))()
    end
})

-- Noclip Button
MainTab:AddButton({
    Name = "Noclip",
    Callback = function()
        notify("Noclip enabled!")
        loadstring(game:HttpGet("https://pastebin.com/raw/KAKCnsmS"))()
    end
})

-- ESP Tab
local ESPTab = Window:MakeTab({
    Name = "ESP",
    Icon = "rbxassetid://15862434941", -- Add your own icon here
    PremiumOnly = false
})

ESPTab:AddLabel("ESP Settings")

-- Gear Tab
local GearTab = Window:MakeTab({
    Name = "Gear",
    Icon = "rbxassetid://6034818375",
    PremiumOnly = false
})

GearTab:AddLabel("Use these tools wisely!")

GearTab:AddButton({
    Name = "Auto Kill",
    Callback = function()
        notify("Auto Kill script loaded!")
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Deni210/murdersvssherrifsduels/main/rubyhub", true))()
    end
})

GearTab:AddButton({
    Name = "Xeno",
    Callback = function()
        notify("Xeno script loaded!")
        loadstring(game:HttpGet("https://raw.githubusercontent.com/TheRealAvrwm/Projects/main/Xeno%20MVSD%20script.lua", true))()
    end
})

GearTab:AddButton({
    Name = "Nameless Admin",
    Callback = function()
        notify("Nameless Admin script loaded!")
        loadstring(game:HttpGet('https://raw.githubusercontent.com/FilteringEnabled/NamelessAdmin/main/Source'))()
    end
})

-- Misc Tab
local MiscTab = Window:MakeTab({
    Name = "Misc",
    Icon = "rbxassetid://15862434941", -- Add your own icon here
    PremiumOnly = false
})

MiscTab:AddLabel("Miscellaneous Settings")

-- Setting Tab
local SettingTab = Window:MakeTab({
    Name = "Settings",
    Icon = "rbxassetid://15841340999",
    PremiumOnly = false
})

SettingTab:AddButton({
    Name = "Rejoin",
    Callback = function()
        notify("Rejoining the game...")
        local ts = game:GetService("TeleportService")
        local p = game:GetService("Players").LocalPlayer
        ts:Teleport(game.PlaceId, p)
    end
})

SettingTab:AddButton({
    Name = "Server Hop",
    Callback = function()
        notify("Server hopping...")
        local module = loadstring(game:HttpGet("https://raw.githubusercontent.com/LeoKholYt/roblox/main/lk_serverhop.lua"))()
        module:Teleport(game.PlaceId)
    end
})

SettingTab:AddButton({
    Name = "Open Console",
    Callback = function()
        notify("Opening console...")
        game:GetService("StarterGui"):SetCore("DevConsoleVisible", true)
    end
})

SettingTab:AddButton({
    Name = "Anti Ban/Kick Detection",
    Callback = function()
        notify("Anti Ban/Kick Detection enabled!")
        local Players = game:GetService("Players")
        local LocalPlayer = Players.LocalPlayer

        local function preventKick()
            local TeleportService = game:GetService("TeleportService")
            TeleportService:Teleport(game.PlaceId, LocalPlayer)
        end

        Players.PlayerRemoving:Connect(function(player)
            if player == LocalPlayer then
                preventKick()
            end
        end)
    end
})

-- Initialize the GUI
OrionLib:Init()
